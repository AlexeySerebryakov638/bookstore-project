<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org" >
	<head>
		<meta charset="UTF-8">
		<title>Список книг</title>
		<link rel="stylesheet" th:href="@{styles.css}" />
	</head>
	
	<body>
		<div th:insert="~{template-navbar::navbar}">  </div>
		<h1>Список книг</h1>
		
		<table>
			<tr> 
				<th>id</th>
				<th>Обложка</th>
				<th></th>
				<th>Название</th>
				<th>Автор</th>
				<th>Язык</th>
				<th>Год издания</th>
				<th>Жанр</th>
				<th>Описание</th>
				<th>ISBN</th>
				<th>Кол-во страниц</th>
				<th>Оценка</th>
				<th>Цена</th>
				<th>Кол-во на складе</th>
			</tr>
			<tr th:each="book : ${@bookRepository.findAll()}">
				<td> <span th:text="${book.id}"></span></td>
				<td> <img th:src="@{''+${book.image}}" alt="${book.image}"/> </td>
				<td> <span th:text="${book.newBook} ? '!!!' : ''"></span></td>
				<td> <a th:text="${book.name}" th:href="@{/book}+'?id='+${book.id}"></a></td>
				<td> <span th:text="${book.author}"></span></td>
				<td> <span th:text="${book.language}"></span></td>
				<td> <span th:text="${book.publicationYear}"></span></td>
				<td> <span th:text="${book.genre}"></span></td>
				<td> <span th:text="${book.description}"></span></td>
				<td> <span th:text="${book.isbn}"></span></td>
				<td> <span th:text="${book.pages}"></span></td>
				<td> <span th:text="${book.rate} > 0 ? (${book.rate}+' / 10') : ''"></span></td>
				<td> <span th:text="${book.cost}"></span></td>
				<td> <span th:text="(${book.amount} == 0) ? 'Нет в наличии': ((${book.amount < 10})? 'Осталось мало' : 'Есть в наличии')"></span></td>
			</tr>
		</table>
			
	</body>
</html>